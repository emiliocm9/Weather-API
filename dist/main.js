(()=>{"use strict";const e=document.getElementById("search"),t=document.getElementById("fahrenheit"),n=document.getElementById("celsius"),c=document.querySelector("#image-body"),s=document.querySelector("#icon-image"),o=e=>fetch("https://source.unsplash.com/1600x900?"+e,{method:"get"}),i=e=>"imperial"===e?"°F":"°C",a=async(e,c)=>{const o=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${c}&units=${e}&appid=590be985d863c65642e5fbf9e410de56`);return((e,c)=>{const o=new Date(1e3*e.sys.sunrise),a=new Date(1e3*e.sys.sunset);(e=>{"imperial"===e?(t.classList.replace("btn-secondary","btn-success"),n.classList.replace("btn-success","btn-secondary")):(n.classList.replace("btn-secondary","btn-success"),t.classList.replace("btn-success","btn-secondary"))})(c),(e=>{s.src=`http://openweathermap.org/img/w/${e.weather[0].icon}.png`,s.classList.replace("d-none","d-block")})(e),document.getElementById("city-title").textContent=`${e.name}, ${e.sys.country}`,document.getElementById("city-temp").textContent=`${e.main.temp} ${i(c)}`,document.getElementById("city-description").textContent=e.weather[0].description,document.getElementById("city-humidity").textContent=e.main.humidity,document.getElementById("city-pressure").textContent=e.main.pressure,document.getElementById("city-tempmin").textContent=`${e.main.temp_min} ${i(c)}`,document.getElementById("city-tempmax").textContent=`${e.main.temp_max} ${i(c)}`,document.getElementById("sunrise-time").textContent=`${o.getHours()}:${o.getMinutes()}:${o.getSeconds()} UTC`,document.getElementById("sunset-time").textContent=`${a.getHours()}:${a.getMinutes()}:${a.getSeconds()} UTC`})(await o.json(),e)};e.addEventListener("click",(()=>(async()=>{try{const e=document.getElementById("inlineFormInputName2").value;(async e=>{try{const t=await o(e);c.classList.replace("d-none","d-block"),c.src=t.url}catch(e){console.table(e)}})(e),a("metric",e),document.getElementById("inlineFormInputName2").value=""}catch(e){console.table(e)}})())),t.addEventListener("click",(()=>(async()=>{try{const e=document.getElementById("city-title").textContent;a("imperial",e)}catch(e){console.table(e)}})())),n.addEventListener("click",(()=>(async()=>{try{const e=document.getElementById("city-title").textContent;a("metric",e)}catch(e){console.table(e)}})())),window.onload=()=>{document.getElementById("inlineFormInputName2").value="Mexico City",e.click()}})();